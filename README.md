# 65816-breadboard-computer
My Personal 65C816 breadboard build, including schematics, etc.

/KiCad contains my schematics/raw kicad files, if you want to laugh at my design.

/Programs contains the programs I've written, probably mostly raw assembly, idk if i will implement c

# Hardware Description:

This system is designed to use modular components, with room for expansion in RAM or I/O, using programmable logic. 

The primary CPU is a W65C816, which handles all logic/program execution. The "Bare Minimum" setup includes 32k of RAM and 32K of ROM space, both of which are placed on the primary controller board. The CPU is driven to 2 MHz by a divided clock oscillator, which provides a 2-phase clock signal.


The first expansion slot is reserved for the GPU/Display driver, which uses a Z-80 based GPU to address a 320x240 LCD with a custom graphics layout. This connector uses the GCK pin to run at 8 MHz. See GPU documentation for further details.

The rest of the slots may be configured for any other addressable storage, as long as they are compatible with the pins broken out to the connector. 

The bus uses 2x20 pin connections, to allow for the use of standard 40-pin ribbon cables as well as direct pin-to-socket connections.  Power and Ground are duplicated to avoid damage if plugged in backwards (obviously, it will not function properly, but 5V won't be sent to a random signal line.)

Memory management is handled by an AT16V8B PLD (basically a GAL16V8) but this is probably the current weak point of the setup. A PLD was used instead of a decoder as the ability to latch control lines is important for the GPU's DMA. It may be replaced/accompanied by a further decoding solution for higher-level memory changes, but let's be real: if you are building this and need more than 4 free expansion slots, you're probably smart enough to figure out a solution yourself.

## GPU Description
The GPU uses a Z80 and Z80 SIO module to communicate with an ILI9341V-controlled 320x240 display using SPI. The system uses an 8k VROM combined with 32k VRAM to drive a 16-colour, 240x240 graphic display, and an 4-line text display, positioned either above, below or split 2/2 on either side of the graphical element.

Graphics data is generated by the CPU, and stored in the GPU's VRAM via DMA. The GPU's primary purpose is to continually drive the screen refresh, freeing the CPU from performing display-related communications tasks. 

Two lines are used to select the VRAM DMA:
- Bus Select (Connector pin 39) is used to signal VRAM's /CE line, as with any other expansion bus
- BE (Connector Pin 13) is used as a latching DMA signal, connected to the Z80's /BUSREQ pin.

When /BUSREQ is brought low, the next clock cycle will generate the /BUSACK signal, releasing the latched address/data inputs from the CPU. 
